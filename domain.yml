version: "3.1"

intents:
  - greet
  - who_are_you
  - how_are_you
  - ask_question
  - submit_complaint

entities:
  - system
  - name
  - phone
  - complaint_details

slots:
  system:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
  name:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
  phone:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
  complaint_details:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text

forms:
  complaint_form:
    required_slots:
      - system
      - name
      - phone
      - complaint_details

actions:
  - utter_greet
  - utter_how_are_you
  - utter_ask_question
  - action_query_pdf_knowledge
  - action_submit_complaint
  - action_solve_math
  - action_fallback_llm


responses:
  utter_ask_question:
    - text: "Sure, what would you like to know from the document?"
  utter_greet:
    - text: "Hello! How can I assist you today?"
  utter_how_are_you:
    - text: "I'm doing great, thank you for asking!"
  utter_who_are_you:
    - text: "I'm your friendly assistant, here to help you with anything you need."
  utter_ask_system:
    - text: "Which system do you want to complain about?"
  utter_ask_name:
    - text: "May I know your name?"
  utter_ask_phone:
    - text: "Please provide your mobile number."
  utter_ask_complaint_details:
    - text: "Please describe the issue you're facing."
  utter_complaint_summary:
    - text: |
        Here's a summary of your complaint:
        - System: {system}
        - Name: {name}
        - Phone: {phone}
        - Details: {complaint_details}
  utter_submit:
    - text: "Thank you. Weâ€™ve received your complaint and will look into it."

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
